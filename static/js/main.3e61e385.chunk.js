(this["webpackJsonp2048-typescript"]=this["webpackJsonp2048-typescript"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var r,n,o=a(0),c=a.n(o),i=a(7),s=a.n(i),l=(a(13),a(1)),u=a(2),f=a(3),v=a(4),m=a(5);!function(e){e[e.RUNNING=0]="RUNNING",e[e.LOST=1]="LOST",e[e.WON=2]="WON"}(r||(r={})),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(n||(n={}));function y(e,t){return{x:e,y:t}}function h(e,t){return Math.floor(Math.random()*(t-e)+e)}function d(e,t){var a,o,c=e.tiles;do{a=h(0,4),o=h(0,4)}while(0!==c[a][o]);!function(e,t,a){var o=e.tiles;0!==o[t.x][t.y]?alert("ERROR"):(o[t.x][t.y]=a||Math.random()<.5?2:4,e.emptyTilesLeft--,0!==e.emptyTilesLeft||function(e){for(var t=0;t<4;t++)for(var a=0;a<4;a++)if(-1!==x(e,y(a,t),n.UP)||-1!==x(e,y(a,t),n.DOWN)||-1!==x(e,y(a,t),n.LEFT)||-1!==x(e,y(a,t),n.RIGHT))return!0;return!1}(o)||(e.gameState=r.LOST))}(e,y(a,o),t)}function b(e,t){for(var a=e.tiles;t.x>0&&0===a[t.x-1][t.y];)e.moved=!0,p(a,t,y(t.x-1,t.y)),t.x--}function w(e,t){for(var a=e.tiles;t.x<3&&0===a[t.x+1][t.y];)e.moved=!0,p(a,t,y(t.x+1,t.y)),t.x++}function N(e,t){for(var a=e.tiles;t.y>0&&0===a[t.x][t.y-1];)e.moved=!0,p(a,t,y(t.x,t.y-1)),t.y--}function g(e,t){for(var a=e.tiles;t.y<3&&0===a[t.x][t.y+1];)e.moved=!0,p(a,t,y(t.x,t.y+1)),t.y++}function x(e,t,a){var r=e[t.x][t.y];switch(a){case n.UP:for(var o=t.y+1;o<4&&(e[t.x][o]===r||0===e[t.x][o]);o++)if(e[t.x][o]===r)return o;break;case n.DOWN:for(var c=t.y-1;c>=0&&(e[t.x][c]===r||0===e[t.x][c]);c--)if(e[t.x][c]===r)return c;break;case n.LEFT:for(var i=t.x+1;i<4&&(e[i][t.y]===r||0===e[i][t.y]);i++)if(e[i][t.y]===r)return i;break;case n.RIGHT:for(var s=t.x-1;s>=0&&(e[s][t.y]===r||0===e[s][t.y]);s--)if(e[s][t.y]===r)return s;break;default:console.log("ERROR")}return-1}function k(e,t,a,n){var o=e.tiles;E(o,t,n?y(a,t.y):y(t.x,a)),e.score+=o[t.x][t.y],e.emptyTilesLeft++,2048===o[t.x][t.y]&&(e.gameState=r.WON)}function p(e,t,a){e[a.x][a.y]=e[t.x][t.y],e[t.x][t.y]=0}function E(e,t,a){e[t.x][t.y]!==e[a.x][a.y]?console.log("ERROR"):(e[t.x][t.y]*=2,function(e,t){e[t.x][t.y]=0}(e,a))}var O=function(e){return c.a.createElement("div",{className:"tile",style:e.style},e.value)},T=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"chooseTileStyle",value:function(e){switch(e){case 2:return{color:"black",backgroundColor:"white"};case 4:return{color:"black",backgroundColor:"papayawhip"};case 8:return{color:"white",backgroundColor:"navajowhite"};case 16:return{color:"white",backgroundColor:"coral"};case 32:return{color:"white",backgroundColor:"lightcoral"};case 64:return{color:"white",backgroundColor:"indianred"};case 128:case 256:case 512:case 1024:case 2048:return{color:"white",backgroundColor:"gold"};default:return{color:"whitesmoke",backgroundColor:"whitesmoke"}}}},{key:"render",value:function(){for(var e=this,t=0,a=[],r=0;r<4;r++)for(var n=0;n<4;n++)a.push(this.props.tiles[n][r]);return c.a.createElement("div",{className:"board"},a.map((function(a){return c.a.createElement(O,{key:t++,value:a,style:e.chooseTileStyle(a)})})))}}]),a}(o.Component);var S=function(e){var t;return t=e.gameState===r.WON?{className:"won-label",text:"You Win!"}:e.gameState===r.LOST?{className:"lost-label",text:"You Lost."}:{className:"running-label",text:""},c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"game"},c.a.createElement("div",{className:"header"},"2048"),c.a.createElement("div",{className:"status-block"},c.a.createElement("label",{className:"score-block"},"Score: ",e.score),c.a.createElement("br",null),c.a.createElement("button",{className:"reset-button",onClick:function(){return e.generateNewGame()}},"New Game"),c.a.createElement("label",{className:t.className},t.text)),c.a.createElement("div",null," ",c.a.createElement(T,{tiles:e.tiles})," ")))},R=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state=r.getStartingState(),r.handleKeyDown=r.handleKeyDown.bind(Object(f.a)(r)),r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"componentWillUnmount",value:function(){}},{key:"handleKeyDown",value:function(e){switch(e.key){case"ArrowLeft":return void this.move(this.state,n.LEFT);case"ArrowUp":return void this.move(this.state,n.UP);case"ArrowDown":return void this.move(this.state,n.DOWN);case"ArrowRight":return void this.move(this.state,n.RIGHT)}}},{key:"getStartingState",value:function(){var e=new Array(4).fill(0).map((function(){return new Array(4).fill(0)})),t={gameState:r.RUNNING,score:0,tiles:e,moved:!1,greatestTile:2,emptyTilesLeft:16};return d(t,!0),d(t,!0),t}},{key:"generateNewGame",value:function(){var e=this;this.setState((function(){return e.getStartingState()}))}},{key:"move",value:function(e,t){if(this.state.gameState===r.RUNNING){var a=Object.assign({},e);switch(a.moved=!1,t){case n.LEFT:!function(e){for(var t=e.tiles,a=0;a<4;a++)for(var r=0;r<4;r++)if(0!==t[r][a]){var o=x(t,y(r,a),n.LEFT);-1!==o&&(e.moved=!0,k(e,y(r,a),o,!0)),b(e,y(r,a))}}(a);break;case n.UP:!function(e){for(var t=e.tiles,a=0;a<4;a++)for(var r=0;r<4;r++)if(0!==t[a][r]){var o=x(t,y(a,r),n.UP);-1!==o&&(e.moved=!0,k(e,y(a,r),o,!1)),N(e,y(a,r))}}(a);break;case n.DOWN:!function(e){for(var t=e.tiles,a=0;a<4;a++)for(var r=3;r>=0;r--)if(0!==t[a][r]){var o=x(t,y(a,r),n.DOWN);-1!==o&&(e.moved=!0,k(e,y(a,r),o,!1)),g(e,y(a,r))}}(a);break;case n.RIGHT:!function(e){for(var t=e.tiles,a=0;a<4;a++)for(var r=3;r>=0;r--)if(0!==t[r][a]){var o=x(t,y(r,a),n.RIGHT);-1!==o&&(e.moved=!0,k(e,y(r,a),o,!0)),w(e,y(r,a))}}(a)}a.moved&&d(a,!1),this.setState((function(){return a}))}}},{key:"render",value:function(){return c.a.createElement(S,{gameState:this.state.gameState,score:this.state.score,tiles:this.state.tiles,generateNewGame:this.generateNewGame})}}]),a}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.3e61e385.chunk.js.map